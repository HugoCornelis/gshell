#!/usr/bin/perl -w
#

use strict;


my $test
    = {
       command_definitions => [
			       {
				arguments => [
					     ],
				command => 'bin/genesis-g3',
				command_tests => [
						  {
						   description => "Is startup successful ?",
						   read => 'Welcome to the GENESIS 3 shell',
						  },
						  {
						   description => "Can we load the standard purkinje cell model ?",
						   write => "ndf_load cells/purkinje/edsjb1994.ndf",
						  },
						  {
						   description => "Can we get access to the fast sodium activation tables ?",
						   disabled => "Working on it.",
# 						   numerical_compare => "arithmetic rounding differences on the tester",
						   read => "
tau:
  - 2.48232346483403e-05
  - 2.81275776716263e-05
  - 3.18713490451171e-05
  - 3.61127079259058e-05
  - 4.0917330384233e-05
  - 4.63592633538075e-05
  - 5.25217973580191e-05
  - 5.94982994625541e-05
  - 6.73929012450935e-05
  - 7.63208595158889e-05
  - 8.64082817513529e-05
  - 9.7790705639851e-05
  - 0.000110609701497741
  - 0.000125006171144694
  - 0.000141108280569085
  - 0.000159010935546264
  - 0.000178742431396589
  - 0.00020021270215034
  - 0.000223137444601811
  - 0.000246935570820242
  - 0.000270608110012524
  - 0.000292630197046223
  - 0.000310925603980611
  - 0.000323029930144538
  - 0.000326536796686297
  - 0.000319797944521443
  - 0.000302621441845721
  - 0.000276559619565248
  - 0.000244535095691783
  - 0.000209975621454169
  - 0.000175929907117437
  - 0.000144547965871574
  - 0.000116995323612242
  - 9.36437496252317e-05
  - 7.43473671127536e-05
  - 5.86857640794439e-05
  - 4.61338280788993e-05
  - 3.61625196493734e-05
  - 2.82897359676902e-05
  - 2.21002054559031e-05
  - 1.72483191033427e-05
  - 1.34526986966598e-05
  - 1.04875399672917e-05
  - 8.17337044817344e-06
  - 6.36846370671902e-06
  - 4.96139109882323e-06
  - 3.86480639873541e-06
  - 3.01038070722099e-06
  - 2.34473659411036e-06
  - 1.82621639686851e-06
  - 1.42233033391826e-06
  - 1.10775029188525e-06
  - 8.62737303994357e-07
  - 6.7191146617396e-07
  - 5.23291052400421e-07
  - 4.07542626847936e-07
  - 3.17396200591752e-07
  - 2.47189310775136e-07
  - 1.92511711184685e-07
  - 1.49928529624829e-07
",
						   timeout => 50,
# 						   wait => 10,
						   write => "tabulate /Purkinje segments/soma/naf/naf_gate_activation",
						  },
						  {
						   comment => "This test fails due to producing the output for the naf_activation gate instead of the inactivation gate. There is currently an error in Heccers addressing.c implementation for looking up tables.",
						   description => "Can we get access to the fast sodium inactivation tables ?",
						   disabled => "Check the comment for the naf_inactivation test.",
# 						   numerical_compare => "arithmetic rounding differences on the tester",
						   read => "
tau:
  - 2.48232346483403e-05
  - 2.81275776716263e-05
  - 3.18713490451171e-05
  - 3.61127079259058e-05
  - 4.0917330384233e-05
  - 4.63592633538075e-05
  - 5.25217973580191e-05
  - 5.94982994625541e-05
  - 6.73929012450935e-05
  - 7.63208595158889e-05
  - 8.64082817513529e-05
  - 9.7790705639851e-05
  - 0.000110609701497741
  - 0.000125006171144694
  - 0.000141108280569085
  - 0.000159010935546264
  - 0.000178742431396589
  - 0.00020021270215034
  - 0.000223137444601811
  - 0.000246935570820242
  - 0.000270608110012524
  - 0.000292630197046223
  - 0.000310925603980611
  - 0.000323029930144538
  - 0.000326536796686297
  - 0.000319797944521443
  - 0.000302621441845721
  - 0.000276559619565248
  - 0.000244535095691783
  - 0.000209975621454169
  - 0.000175929907117437
  - 0.000144547965871574
  - 0.000116995323612242
  - 9.36437496252317e-05
  - 7.43473671127536e-05
  - 5.86857640794439e-05
  - 4.61338280788993e-05
  - 3.61625196493734e-05
  - 2.82897359676902e-05
  - 2.21002054559031e-05
  - 1.72483191033427e-05
  - 1.34526986966598e-05
  - 1.04875399672917e-05
  - 8.17337044817344e-06
  - 6.36846370671902e-06
  - 4.96139109882323e-06
  - 3.86480639873541e-06
  - 3.01038070722099e-06
  - 2.34473659411036e-06
  - 1.82621639686851e-06
  - 1.42233033391826e-06
  - 1.10775029188525e-06
  - 8.62737303994357e-07
  - 6.7191146617396e-07
  - 5.23291052400421e-07
  - 4.07542626847936e-07
  - 3.17396200591752e-07
  - 2.47189310775136e-07
  - 1.92511711184685e-07
  - This is wrong
",
						   timeout => 50,
# 						   wait => 10,
						   write => "tabulate /Purkinje segments/soma/naf/naf_gate_inactivation",
						  },
						  {
						   comment => "This test fails due to an indexing error.",
						   description => "Can we get access to the calcium activation tables ?",
						   disabled => "Check the comment for the cat_gate_activation test.",
# 						   numerical_compare => "arithmetic rounding differences on the tester",
						   read => "
tau:
  - 2.48232346483403e-05
  - 2.81275776716263e-05
  - 3.18713490451171e-05
  - 3.61127079259058e-05
  - 4.0917330384233e-05
  - 4.63592633538075e-05
  - 5.25217973580191e-05
  - 5.94982994625541e-05
  - 6.73929012450935e-05
  - 7.63208595158889e-05
  - 8.64082817513529e-05
  - 9.7790705639851e-05
  - 0.000110609701497741
  - 0.000125006171144694
  - 0.000141108280569085
  - 0.000159010935546264
  - 0.000178742431396589
  - 0.00020021270215034
  - 0.000223137444601811
  - 0.000246935570820242
  - 0.000270608110012524
  - 0.000292630197046223
  - 0.000310925603980611
  - 0.000323029930144538
  - 0.000326536796686297
  - 0.000319797944521443
  - 0.000302621441845721
  - 0.000276559619565248
  - 0.000244535095691783
  - 0.000209975621454169
  - 0.000175929907117437
  - 0.000144547965871574
  - 0.000116995323612242
  - 9.36437496252317e-05
  - 7.43473671127536e-05
  - 5.86857640794439e-05
  - 4.61338280788993e-05
  - 3.61625196493734e-05
  - 2.82897359676902e-05
  - 2.21002054559031e-05
  - 1.72483191033427e-05
  - 1.34526986966598e-05
  - 1.04875399672917e-05
  - 8.17337044817344e-06
  - 6.36846370671902e-06
  - 4.96139109882323e-06
  - 3.86480639873541e-06
  - 3.01038070722099e-06
  - 2.34473659411036e-06
  - 1.82621639686851e-06
  - 1.42233033391826e-06
  - 1.10775029188525e-06
  - 8.62737303994357e-07
  - 6.7191146617396e-07
  - 5.23291052400421e-07
  - 4.07542626847936e-07
  - 3.17396200591752e-07
  - 2.47189310775136e-07
  - 1.92511711184685e-07
  - This is wrong
",
						   timeout => 50,
# 						   wait => 10,
						   write => "tabulate /Purkinje segments/soma/cat/cat_gate_activation",
						  },
						  {
						   comment => "This test fails due to an indexing error.",
						   description => "Can we get access to the calcium inactivation tables ?",
						   disabled => "Check the comment for the cat_gate_inactivation test.",
# 						   numerical_compare => "arithmetic rounding differences on the tester",
						   read => "
tau:
  - 2.48232346483403e-05
  - 2.81275776716263e-05
  - 3.18713490451171e-05
  - 3.61127079259058e-05
  - 4.0917330384233e-05
  - 4.63592633538075e-05
  - 5.25217973580191e-05
  - 5.94982994625541e-05
  - 6.73929012450935e-05
  - 7.63208595158889e-05
  - 8.64082817513529e-05
  - 9.7790705639851e-05
  - 0.000110609701497741
  - 0.000125006171144694
  - 0.000141108280569085
  - 0.000159010935546264
  - 0.000178742431396589
  - 0.00020021270215034
  - 0.000223137444601811
  - 0.000246935570820242
  - 0.000270608110012524
  - 0.000292630197046223
  - 0.000310925603980611
  - 0.000323029930144538
  - 0.000326536796686297
  - 0.000319797944521443
  - 0.000302621441845721
  - 0.000276559619565248
  - 0.000244535095691783
  - 0.000209975621454169
  - 0.000175929907117437
  - 0.000144547965871574
  - 0.000116995323612242
  - 9.36437496252317e-05
  - 7.43473671127536e-05
  - 5.86857640794439e-05
  - 4.61338280788993e-05
  - 3.61625196493734e-05
  - 2.82897359676902e-05
  - 2.21002054559031e-05
  - 1.72483191033427e-05
  - 1.34526986966598e-05
  - 1.04875399672917e-05
  - 8.17337044817344e-06
  - 6.36846370671902e-06
  - 4.96139109882323e-06
  - 3.86480639873541e-06
  - 3.01038070722099e-06
  - 2.34473659411036e-06
  - 1.82621639686851e-06
  - 1.42233033391826e-06
  - 1.10775029188525e-06
  - 8.62737303994357e-07
  - 6.7191146617396e-07
  - 5.23291052400421e-07
  - 4.07542626847936e-07
  - 3.17396200591752e-07
  - 2.47189310775136e-07
  - 1.92511711184685e-07
  - This is wrong
",
						   timeout => 50,
# 						   wait => 10,
						   write => "tabulate /Purkinje segments/soma/cat/cat_gate_inactivation",
						  },
						 ],
				description => "tabulation of channel kinetics",
				side_effects => 'loads a model into the model-contaier',
			       },
			      ],
       description => "tabulation",
       name => 'tabulator.t',
      };


return $test;


